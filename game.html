<!DOCTYPE html>
<html class="dark" dir="rtl" lang="he">
<head>
    <meta charset="utf-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>MTV Trivia - Playing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@800&display=swap" rel="stylesheet"/>
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #0a050b; color: white; overflow: hidden; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .answer-btn { transition: 0.2s; cursor: pointer; }
        .answer-btn:active { transform: scale(0.95); }
        .progress-bar { transition: width 1s linear; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-6">

    <div class="w-full max-w-md mt-4">
        <div class="flex justify-between items-center mb-4">
            <span id="category-name" class="text-[#00f3ff] font-bold tracking-widest uppercase text-xs">90's ERA</span>
            <span id="score" class="text-white font-black">Score: 0</span>
        </div>
        <div class="w-full bg-white/10 h-2 rounded-full overflow-hidden">
            <div id="timer-bar" class="progress-bar bg-[#cd2bee] h-full w-full"></div>
        </div>
    </div>

    <main class="w-full max-w-md flex-1 flex flex-col justify-center gap-8">
        <div class="glass p-8 rounded-3xl text-center relative overflow-hidden">
            <div class="animate-pulse absolute inset-0 bg-gradient-to-br from-[#cd2bee]/10 to-transparent"></div>
            <h2 class="text-3xl font-black italic relative z-10">מזהים את השיר?</h2>
            <p class="text-white/50 mt-2 relative z-10">המוזיקה מתנגנת...</p>
        </div>

        <div id="answers-grid" class="grid gap-4">
            <button class="answer-btn glass p-6 rounded-2xl font-bold hover:bg-white/10 text-right">טוען תשובה...</button>
        </div>
    </main>

    <script>
        // 1. הגדרות ומשתנים
        const category = localStorage.getItem('selected_category') || '90s';
        document.getElementById('category-name').innerText = category.toUpperCase() + " ERA";
        
        const audio = new Audio();
        let score = 0;

        // 2. מאגר שירים לדוגמה (חן, כאן אתה מחליף לקישורים האמיתיים שלך)
        const playlist = {
            '90s': "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3", 
            '80s': "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",
            'Rap': "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",
            'Dance': "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3"
        };

        // 3. פונקציית הפעלת המוזיקה (התיקון המרכזי)
        function initMusic() {
            const trackUrl = playlist[category];
            if (trackUrl) {
                audio.src = trackUrl;
                audio.volume = 0.7;
                
                // ניסיון ניגון אוטומטי
                let playPromise = audio.play();

                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        console.log("Auto-play blocked. Music will start on first click.");
                        // אם נחסם, נפעיל בל
